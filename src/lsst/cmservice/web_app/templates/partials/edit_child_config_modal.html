<dialog
        id="edit-child-config-modal"
        aria-labelledby="modal-title"
        role="dialog"
        aria-modal="true"
        class="rounded-lg w-1/2">

    <div class="relative transform overflow-hidden bg-white px-4 pb-4 pt-5 text-left">
    <div>
        <div class="mt-3 text-center sm:mt-5">
            <h2 class="text-base font-semibold text-gray-900 pb-4">Edit Child Config</h2>
        </div>
        <div>
            <form id="update-child_config-form"
                  hx-post="{{ url_for('update_step_child_config', step_id=step.id)}}"
                  hx-swap="innerHTML"
                  hx-target="#step-child-config"
                  method="POST">
                {% for key, value in step.child_config|items %}
                <div class="flex flex-row">
                    <div class="basis-1/3"><label class="pr-2 text-sm/6 font-medium text-gray-900">{{key}}</label></div>
                    <div class="basis-2/3">
                        <input
                                type="text"
                                name="{{key}}"
                                value="{{value}}"
                                class="text-xs font-normal text-gray-900 w-full border-2"/>
                    </div>
                </div>
                {% endfor %}
                <div class="mt-5 sm:mt-6 sm:flex sm:flex-row-reverse gap-x-3">
                    <button id="confirm-edit-child-config" type="submit" class="inline-flex justify-center rounded bg-teal-700 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-teal-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-teal-600 sm:col-start-2">Confirm</button>
                    <button id="cancel-edit-child-config" type="button" class="mt-3 inline-flex justify-center rounded bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:col-start-1 sm:mt-0">Cancel</button>
                </div>
            </form>

        </div>
    </div>
</div>
</dialog>
<script>
    document.querySelector("#confirm-edit-child-config").addEventListener("click", () => {
        document.querySelector("#edit-child-config-modal").close();
    });
    document.querySelector("#cancel-edit-child-config").addEventListener("click", () => {
        document.querySelector("#edit-child-config-modal").close();
        document.querySelector("#update-child_config-form").reset();
    });
</script>
