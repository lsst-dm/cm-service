- Imports:
      - "${CM_CONFIGS}/example_standard_scripts.yaml"
      - "${CM_CONFIGS}/example_standard_elements.yaml"
      - "${CM_CONFIGS}/example_LATISS_DRP_steps.yaml"
- SpecBlock:
      name: LATISS_DRP_campaign
      includes: ["base_campaign"]
      collections:
          root: 'u/echarles/cm/hsc'
          campaign_source: HSC/raw/RC2
          campaign_ancilllary_inputs:
              - HSC/calib
              - HSC/masks
              - HSC/fgcmcal/lut/RC2
              - refcats
              - skymaps
      steps:
          - Step:
                name: step1
                spec_block: LATISS_DRP_step1
                child_config:
                    split_method: split_by_query
                    split_min_groups: 5
          - Step:
                name: step2a
                spec_block: LATISS_DRP_step2a
                prerequisites: ['step1']
                child_config:
                    split_method: no_split
          - Step:
                name: step2bcde
                spec_block: LATISS_DRP_step2bcde
                prerequisites: ['step2a']
                child_config:
                    split_method: split_by_vals
                    split_vals:
                        - 9615
                        - 9697
                        - 9813
          - Step:
                name: step3a
                spec_block: LATISS_DRP_step3a
                prerequisites: ['step2bcde']
                child_config:
                    split_method: split_by_vals
                    split_vals:
                        - 9615
                        - 9697
                        - 9813
          - Step:
                name: step3b
                spec_block: LATISS_DRP_step3b
                prerequisites: ['step3a']
                child_config:
                    split_method: split_by_vals
                    split_vals:
                        - 9615
                        - 9697
                        - 9813
          - Step:
                name: step3c
                spec_block: LATISS_DRP_step3c
                prerequisites: ['step3b']
                child_config:
                    split_method: split_by_vals
                    split_vals:
                        - 9615
                        - 9697
                        - 9813
          - Step:
                name: step4
                spec_block: LATISS_DRP_step4
                prerequisites: ['step3c']
                child_config:
                    split_method: split_by_query
                    split_min_groups: 5
          - Step:
                name: step5
                spec_block: LATISS_DRP_step5
                prerequisites: ['step4']
                child_config:
                    split_method: split_by_vals
                    split_vals:
                        - 9615
                        - 9697
                        - 9813
          - Step:
                name: step6
                spec_block: LATISS_DRP_step6
                prerequisites: ['step5']
                child_config:
                    split_method: split_by_query
                    split_min_groups: 5
                    split_dataset: calexp
                    split_field: visit
      data:
          butler_repo: '/repo/main'
          prod_area: 'output/archive'
          data_query: "instrument = 'HSC' and skymap = 'hsc_rings_v1'"
          bps_wms_clustering_file: “${DRP_PIPE_DIR}/bps/clustering/HSC/DRP-RC2-clustering.yaml
          bps_wms_resources_file: “${DRP_PIPE_DIR}/bps/resources/HSC/DRP-RC2.yaml"
- Specification:
      name: LATISS_DRP_panda
      script_templates: []
      spec_blocks:
          - SpecBlockAssociation: {spec_block_name: LATISS_DRP_campaign, alias: campaign}
          - SpecBlockAssociation: {spec_block_name: bps_panda_submit_script, alias: bps_submit_script}
          - SpecBlockAssociation: {spec_block_name: bps_panda_report_script, alias: bps_report_script}
- Specification:
      name: LATISS_DRP_htcondor
      script_templates: []
      spec_blocks:
          - SpecBlockAssociation: {spec_block_name: LATISS_DRP_campaign, alias: campaign}
          - SpecBlockAssociation: {spec_block_name: bps_htcondor_submit_script, alias: bps_submit_script}
          - SpecBlockAssociation: {spec_block_name: bps_htcondor_report_script, alias: bps_report_script}
