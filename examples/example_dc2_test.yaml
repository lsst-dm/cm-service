- Imports:
      - "${CM_CONFIGS}/example_standard_scripts.yaml"
      - "${CM_CONFIGS}/example_standard_elements.yaml"
      - "${CM_CONFIGS}/example_dc2_steps.yaml"
- SpecBlock:
      name: dc2_test_campaign
      includes: ["base_campaign"]
      handler: lsst.cmservice.handlers.element_handler.ElementHandler
      collections:
          root: 'u/echarles/cm/dc2_test'
          campaign_source: /prod/raw/all
      child_config:
          step1:
              spec_block: dc2_step1
              child_config:
                  base_query: "instrument='LSSTCam-imSim' and skymap='DC2' and tract in (3828, 3829)"
          step2:
              spec_block: dc2_step2
              prerequisites: ['step1']
              child_config:
                  base_query: "instrument='LSSTCam-imSim' and skymap='DC2' and tract in (3828, 3829)"
          step3:
              spec_block: dc2_step3
              prerequisites: ['step2']
              child_config:
                  base_query: "instrument='LSSTCam-imSim' and skymap='DC2'"
          step4:
              spec_block: dc2_step4
              prerequisites: ['step3']
              child_config:
                  base_query: "instrument='LSSTCam-imSim' and skymap='DC2' and tract in (3828, 3829)"
          step5:
              spec_block: dc2_step5
              prerequisites: ['step4']
              child_config:
                  base_query: "instrument='LSSTCam-imSim' and skymap='DC2' and tract in (3828, 3829)"
          step6:
              spec_block: dc2_step6
              prerequisites: ['step4']
              child_config:
                  base_query: "instrument='LSSTCam-imSim' and skymap='DC2' and tract in (3828, 3829)"
          step7:
              spec_block: dc2_step7
              prerequisites: ['step3']
              child_config:
                  base_query: "instrument='LSSTCam-imSim' and skymap='DC2' and tract in (3828, 3829)"
          step8:
              spec_block: dc2_step8
              prerequisites: ['step3']
              child_config:
                  base_query: "instrument='LSSTCam-imSim' and skymap='DC2' and tract in (3828, 3829)"
          faro_visit:
              spec_block: dc2_faro_visit
              prerequisites: ['step6']
              child_config:
                  base_query: "instrument='LSSTCam-imSim' and skymap='DC2' and tract in (3828, 3829)"
          faro_matched:
              spec_block: dc2_faro_matched
              prerequisites: ['step6']
              child_config:
                  base_query: "instrument='LSSTCam-imSim' and skymap='DC2' and tract in (3828, 3829)"
          faro_tract:
              spec_block: dc2_faro_tract
              prerequisites: ['step3']
              child_config:
                  base_query: "instrument='LSSTCam-imSim' and skymap='DC2' and tract in (3828, 3829)"
          plots:
              spec_block: dc2_plots
              prerequisites: ['step3']
              child_config:
                  base_query: "instrument='LSSTCam-imSim' and skymap='DC2' and tract in (3828, 3829)"
      data:
          butler_repo: '/repo/dc2'
          prod_area: 'output/archive'
          data_query: "instrument='LSSTCam-imSim' and skymap='DC2' and tract in (3828, 3829)"
          lsst_version: w_2023_46
- Specification:
      name: dc2_test
      script_templates:
          - {script_template_name: bps_panda_script_template}
          - {script_template_name: bps_panda_yaml_template}
          - {script_template_name: stack_script_template}
      spec_blocks:
          - {spec_block_name: chain_create_script}
          - {spec_block_name: chain_prepend_script}
          - {spec_block_name: chain_collect_jobs_script}
          - {spec_block_name: chain_collect_steps_script}
          - {spec_block_name: tag_inputs_script}
          - {spec_block_name: tag_create_script}
          - {spec_block_name: tag_associate_script}
          - {spec_block_name: prepare_step_script}
          - {spec_block_name: validate_script}
          - {spec_block_name: panda_submit_script}
          - {spec_block_name: panda_report_script}
          - {spec_block_name: manifest_report_script}
          - {spec_block_name: run_jobs}
          - {spec_block_name: run_groups}
          - {spec_block_name: run_steps}
          - {spec_block_name: job}
          - {spec_block_name: group}
          - {spec_block_name: step}
          - {spec_block_name: base_campaign}
          - {spec_block_name: dc2_step1}
          - {spec_block_name: dc2_step2}
          - {spec_block_name: dc2_step3}
          - {spec_block_name: dc2_step4}
          - {spec_block_name: dc2_step5}
          - {spec_block_name: dc2_step6}
          - {spec_block_name: dc2_step7}
          - {spec_block_name: dc2_step8}
          - {spec_block_name: dc2_faro_visit}
          - {spec_block_name: dc2_faro_matched}
          - {spec_block_name: dc2_faro_track}
          - {spec_block_name: dc2_plots}
          - {spec_block_name: dc2_test_campaign, alias: campaign}
